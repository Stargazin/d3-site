{% extends "base.html" %}

{% block css %}
{% endblock css %}

{% block main %}

<main>
  <div class="leg-container">

    {% for item in items %}
    <div class="leg">
      <a href="#{{ item.slug }}" class="leg__name">{{ item.name }}</a>
      <div class="leg__info">
        <a href="#{{ item.slug }}" class="leg__info__pic">
          <span class="pic-sm" style="background: url({{ item.pic }})"></span>
        </a> <!-- .leg__info__pic -->
        <div class="leg__info__affix leg__affix-container">

          {% if item.unique %}
          <div class="leg__affix leg__affix--unique">
            <li class="unique"><p>{{ item.unique|safe }}</p></li>
            {% if item.unique2 %}
            <li class="unique"><p>{{ item.unique2|safe }}</p></li>
            {% endif %}
          </div> <!-- .leg__affix-unique -->
          {% endif %}

          {% if item.affixes %}
          <div class="leg__affix leg__affix--guarenteed">
            {% for affix in item.affixes.all %}
            <li><p>{{ affix.desc|safe }}</p></li>
            {% endfor %}
          </div> <!-- .leg__affix-gaurenteed -->
          {% endif %}

        </div> <!-- .leg__info__affix.leg__affix-container -->
      </div> <!-- .leg__info -->
    </div> <!-- .leg -->
    {% endfor %}

  </div> <!-- .leg-container -->

  {% for item in items %}
  <div class="lb" id="{{ item.slug }}">
    <a class="lb__back" href="#"></a>
    <div class="leg">

      <div class="leg__info">
        <div class="leg__info__pic">
          <span class="pic-sm" style="background: url({{ item.pic }})"></span>
        </div> <!-- leg__info__pic -->

        <div class="leg__info__details">
          <div class="leg__info__details__name leg__name">
            <span>{{ item.name }}</span>
          </div> <!-- leg__info__details__name.leg__name -->
          <div class="leg__info__details__type">
            <span>{{ item.category }}</span> 
          </div> <!-- leg__info__details__type -->
        </div> <!-- leg__info__details__name -->
      </div> <!-- leg__info__details -->

      <div class="leg__affix leg__affix--primary">
        <span>Primary</span>

        {% if item.unique and item.unique_is_primary %}
        <li class="unique"><p>{{ item.unique|safe }}</p></li>
        {% endif %}

        {% if item.unique2 and item.unique2_is_primary %}
        <li class="unique"><p>{{ item.unique2|safe }}</p></li>
        {% endif %}

        {% if item.primary_affixes %}
        {% for affix in item.primary_affixes %}
        <li><p>{{ affix.desc|safe }}</p></li>
        {% endfor %}
        {% endif %}

        <li>
          <p><span>+{{ item.random_primaries }}</span> Random Affixes</p>
        </li>
      </div> <!-- leg__affix-primary -->

      <div class="leg__affix leg__affix--secondary">
        <span>Secondary</span>
        {% if item.unique and not item.unique_is_primary %}
        <li class="unique"><p>{{ item.unique|safe }}</p></li>
        {% endif %}

        {% if item.unique2 and not item.unique2_is_primary %}
        <li class="unique"><p>{{ item.unique2|safe }}</p></li>
        {% endif %}

        {% if item.secondary_affixes %}
        {% for affix in item.secondary_affixes %}
        <li><p>{{ affix.desc|safe }}</p></li>
        {% endfor %}
        {% endif %}
        
        <li>
          <p><span>+{{ item.random_secondaries }}</span> Random Affixes</p>
        </li>
      </div> <!-- leg__affix-secondary -->

      <div class="leg__note">
      </div> <!-- leg__note -->

    </div> <!-- leg -->
  </div> <!-- .lb -->
  {% endfor %}

</main>

{% endblock main %}